import{j as p,Q as J}from"./stories.settings-7040e2b8.js";import{r as l,R as X}from"./index-61bf1805.js";import{a as Z}from"./TextField-968bd1d7.js";import"./TextArea-0641cc40.js";import"./DefinitionList-40407e1d.js";import{F as V}from"./FunctionalList-243252a1.js";import{L as D}from"./ListItem-c6423adc.js";import"./Icon-a4a94a86.js";import"./Avatar-6ff17722.js";import"./Checkbox-aa779e72.js";import{F as ee}from"./Flyout-46872018.js";import"./_commonjsHelpers-de833af9.js";import"./dom.utils-26b7419a.js";import"./layout.settings-581780cb.js";import"./input.renders-184aa385.js";import"./Spinner-63ac2c73.js";import"./settings-577c54c5.js";import"./log.utils-973a80c9.js";import"./index-2801d3c9.js";function g({id:A,label:j,items:n,name:d,multiple:a,inputValue:f,value:o,onInputChange:k,onChange:m,noResultsText:P,qa:N,description:W,state:q,addOn:w}){const[E,h]=l.useState(!1),[i,B]=l.useState(n),[G,H]=l.useState(f||""),[K,T]=l.useState(!a&&o||""),[s,x]=l.useState(-1),[y,F]=l.useState(a&&o||[]),c=f||f===""?f:G,v=o||o===""?o:K,S=X.useRef(null);l.useEffect(()=>{o&&!a&&I(o,!0),o&&a&&F(o)},[o]),l.useEffect(()=>{B((n||[]).filter(e=>{var t;return c?(t=e.label)==null?void 0:t.toLowerCase().includes(c.toLowerCase()):!0}))},[c,n]),l.useEffect(()=>{if(S.current){const t=S.current.querySelector(`.a-list__item:nth-child(${s+1})`);t==null||t.scrollIntoView({block:"nearest",inline:"nearest"})}},[s]);const Q=e=>{h(e)},R=()=>{h(!1),x(-1)},C=e=>{H(e),h(!0),v&&!e&&(T(""),!a&&m&&m("",d)),k&&k(e,d)},I=(e,t=!1)=>{if(!a&&o!==""&&(!o||o===e)){const r=n==null?void 0:n.find(u=>u.value===e);C((r==null?void 0:r.label)||""),T((r==null?void 0:r.value)||""),R()}!t&&m&&m(e,d)},M=e=>{const t=n==null?void 0:n.find(u=>u.value===e);t&&T(t.value);const r=y.includes(e)?y.filter(u=>u!==e):[...y,e].filter(u=>u!=="");F(r),m&&m(r,d)},$=()=>{const e=n==null?void 0:n.find(t=>t.value===v);e&&(c!=null&&c.length)&&e.label!==c&&C(e.label),R()},U=()=>{const e=i&&i[s];e&&(a?M(e.value):I(e.value))},Y=e=>{const t=(i==null?void 0:i.length)||0;switch(e.key){case"ArrowDown":return e.preventDefault(),x(s===-1?0:(s+1)%t),h(!0);case"ArrowUp":return e.preventDefault(),x(s===-1||s-1<0?t-1:s-1),h(!0);case"Enter":return U();case"Escape":return R()}},z=e=>a?y.includes(e):e===v;return p(ee,{scrollable:!0,hasPadding:!1,qa:N,className:"m-autocomplete",trigger:p(Z,{id:A,name:d,label:j,onBlur:$,value:c,onChange:e=>C(e.target.value),role:"combobox",autoComplete:"off","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":E,onKeyDown:Y,description:W,state:q,addOn:w?{...w,content:w.content}:void 0}),ref:S,open:E,onStateChange:Q,children:i&&i.length?p(V,{lined:!0,onItemClick:e=>{a?M(e):I(e)},children:i.map((e,t)=>p(D,{id:e.value,tabIndex:-1,highlighted:t===s,onMouseDown:r=>r.preventDefault(),active:z(e.value),name:e.value,link:{href:""},children:e.label},e.value))}):p(V,{lined:!0,children:p(D,{id:"aui-autocomplete-no-results",children:p("small",{children:P})})})})}g.defaultProps={id:"aui-autocomplete",noResultsText:"Geen resultaten"};g.displayName="Autocomplete";const Te={title:"React/Molecules/Autocomplete",component:g,parameters:{docs:{description:{component:"The `Autocomplete` component is a normal text input enhanced by a pannel of filtered suggestions."}}},args:{name:"aui-autocomplete",items:[{label:"Acadia",value:"1"},{label:"American Samoa",value:"2"},{label:"Arches",value:"3"},{label:"Canyonlands",value:"4"},{label:"Capitol Reef",value:"5"}],label:"National Parks",noResultsText:"Sorry, niet gevonden",multiple:!1,addOn:{type:"icon",placement:"left",content:"a11y"}},argTypes:{name:{control:{type:"text"},table:{type:{summary:"string"}},description:"The `name` prop; is set on the `input` HTML element of the `Autocomplete` component. It is also returned by `onChange` and `onInputChange` to identify the component."},items:{control:{type:"array"},table:{type:{summary:"array"},defaultValue:{summary:"[]"}},description:'The `items` prop control the results from the dropdown in the `Autocomplete` component. These `items` are objects in the format of `{ label: "", value: "" }`.'},label:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"The label of the `Autocomplete` component."},noResultsText:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"Geen resultaten"}},description:"The text when no item match the provided search term."},multiple:{control:{type:"boolean"},table:{type:{summary:"boolean"},defaultValue:{summary:!1}},description:"The `multiple` (if set to `true`) prop will allow the user to select multiple values. The representation of those values is free to chose (e.g. use `Tag` components)"},inputValue:{table:{type:{summary:"string"}},description:"The `inputValue` prop controls the value of the `Autocomplete` input field. This prop makes the `Autocomplete` a controlled component and should be used together with `onInputChange`."},value:{table:{type:{summary:"string | string[]"}},description:"The `value` prop controls the value of the selected `Autocomplete` item. This prop makes the `Autocomplete` a controlled component and should be used together with `onChange`. When `multiple` is `true` the value should be an array of strings."},id:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:"aui-autocomplete"}},description:"The `id` prop; set on the `input` HTML element of the `Autocomplete` component."},description:{control:{type:"text"},table:{type:{summary:"string"},defaultValue:{summary:""}},description:"The `description` prop adds a description or hint text between the label and the inputfield of the `Autocomplete`component"},state:{control:{type:"select"},options:["","error","success"],table:{type:{summary:"select"}},description:"When the `Autocomplete` is associated with a success or error state, the border of the inputfield as well as the description above will match to that thematic colour together with an identifiable icon."},addOn:{control:{type:"object"},table:{type:{summary:"object"}},description:"Set this prop to add a leading or trailing add-on (icon or spinner) inside the input field of the `Autocomplete` component. Addons have the following properties: `type`, `content` and `placement`, where `type` is either `icon`, `text` or `spinner`, `content` is either an icon name or a textual pre- or suffix and `placement` is either `left` or `right`."},onChange:{control:{type:"function"},table:{type:{summary:" function"}},action:"onChange",description:"Function triggered when selecting an option from the `Autocomplete` dropdown. The first parameter of this function is the selected value, the second parameter is the `name` of the `Autocomplete` component. When the `multiple` prop is set to `true`, the value is an array."},onInputChange:{control:{type:"function"},table:{type:{summary:" function"}},action:"onInputChange",description:"Function triggered when the input field value changes. The first parameter of this function is the input, the second parameter is the given component name."},qa:J}},te=A=>p(g,{...A}),b=te.bind({});var L,_,O;b.parameters={...b.parameters,docs:{...(L=b.parameters)==null?void 0:L.docs,source:{originalSource:"args => <Autocomplete {...args} />",...(O=(_=b.parameters)==null?void 0:_.docs)==null?void 0:O.source}}};const xe=["autocomplete"];export{xe as __namedExportsOrder,b as autocomplete,Te as default};
//# sourceMappingURL=Autocomplete.stories-47a00bd8.js.map
