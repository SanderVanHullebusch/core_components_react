import{a as R,j as $}from"./stories.settings-7040e2b8.js";import{r as u,R as l}from"./index-61bf1805.js";import{$ as h}from"./index-2801d3c9.js";import{a as j,D as C}from"./layout.settings-581780cb.js";import{c as y}from"./dom.utils-26b7419a.js";const D=u.forwardRef(function({trigger:f,open:a,hasPadding:E,className:n="",orientation:e,size:d,children:v,scrollable:m,onStateChange:t,qa:x},k){const[I,i]=l.useState(!!a),s=a===!1||a===!0?a:I,c=l.useRef(null);u.useImperativeHandle(k,()=>c.current);const o=l.useCallback(O=>{const p=h.findDOMNode(c.current);p&&!p.contains(O.target)&&(i(!1),t&&t(!1))},[t]),r=l.useCallback(()=>{s?document.addEventListener("click",o,!1):document.removeEventListener("click",o,!1)},[o,s]),_=()=>{i(!s),r(),t&&t(!s)};l.useEffect(()=>{r()},[r]);const b=y({"m-flyout":!0,[n]:!!n,"is-open":!!s,"u-text-right":!!(e!=null&&e.includes("right")),[`m-flyout--${e}`]:!!e,[`m-flyout--${j[d||C]}`]:!!d,"m-flyout--scrollable":!!m}),F=y({"m-flyout__content":!0,"has-padding":!!E});return f?R("div",{className:b,ref:c,"data-qa":x,children:[u.cloneElement(f,{onClick:_,"aria-haspopup":!0,"aria-expanded":s}),$("div",{className:F,...m?{tabIndex:0}:{},children:v})]}):null});D.defaultProps={hasPadding:!0,scrollable:!1,orientation:"bottom-left"};export{D as F};
//# sourceMappingURL=Flyout-46872018.js.map
