import{a as R,j as $}from"./stories.settings-7040e2b8.js";import{r as n,R as a}from"./index-61bf1805.js";import{$ as k}from"./index-2801d3c9.js";import{a as w,D as C}from"./layout.settings-4161ae17.js";import{c as E}from"./dom.utils-26b7419a.js";const D=n.forwardRef(function({trigger:d,open:o,hasPadding:v,className:m="",orientation:e,size:i,children:x,scrollable:p,onStateChange:t,qa:I},_){const[b,y]=a.useState(!!o),s=o===!1||o===!0?o:b,u=a.useRef(null);n.useImperativeHandle(_,()=>u.current);const r=a.useCallback(c=>{const l=k.findDOMNode(u.current);c.target===(l==null?void 0:l.lastChild)&&c.preventDefault(),l&&!l.contains(c.target)&&(y(!1),t&&t(!1))},[t]),f=a.useCallback(()=>{s?document.addEventListener("mousedown",r,!1):document.removeEventListener("mousedown",r,!1)},[r,s]),h=()=>{y(!s),f(),t&&t(!s)};a.useEffect(()=>{f()},[f]);const F=E({"m-flyout":!0,[m]:!!m,"is-open":!!s,"u-text-right":!!(e!=null&&e.includes("right")),[`m-flyout--${e}`]:!!e,[`m-flyout--${w[i||C]}`]:!!i,"m-flyout--scrollable":!!p}),O=E({"m-flyout__content":!0,"has-padding":!!v});return d?R("div",{className:F,ref:u,"data-qa":I,children:[n.cloneElement(d,{onClick:h,"aria-haspopup":!0,"aria-expanded":s}),$("div",{className:O,...p?{tabIndex:0}:{},children:x})]}):null});D.defaultProps={hasPadding:!0,scrollable:!1,orientation:"bottom-left"};export{D as F};
//# sourceMappingURL=Flyout-4a06c40d.js.map
