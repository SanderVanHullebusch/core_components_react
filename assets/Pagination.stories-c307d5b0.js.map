{"version":3,"file":"Pagination.stories-c307d5b0.js","sources":["../../../../packages/antwerp-ui/react-components/src/lib/molecules/pagination/Pagination.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { PaginationProps } from './Pagination.types';\nimport { classNames } from '../../../utils/dom.utils';\nimport { Icon } from '../../base/icon';\nimport { MouseEvent, useEffect, useState } from 'react';\nimport { DEFAULT_SIZE, SIZE_MAP } from '../../../constants/layout.settings';\nimport { pagesArray } from '../../../utils/math.utils';\n\nconst renderTextPagination = (currentPage: number, totalPages: number, text: string, ariaLabelPage?: string) => (\n  <li className=\"m-pagination__label\" key=\"pagination__label\">\n    <span className=\"u-screen-reader-only\">{ariaLabelPage} </span>\n    {text.replace('%currentPage%', `${currentPage}`).replace('%totalPages%', `${totalPages}`)}\n  </li>\n);\n\nconst renderNumbersPagination = (\n  current: number,\n  total: number,\n  ariaLabelPage?: string,\n  onChange?: (page: number, e: MouseEvent) => void\n) => {\n  const pages = pagesArray(current, total);\n  return pages.map((page: number, i: number) => {\n    if (!page) {\n      return <li key={i}>...</li>;\n    } else {\n      const pageClass = classNames({\n        'is-active': page === current\n      });\n      return (\n        <li key={i}>\n          <a\n            className={pageClass}\n            href={'#'}\n            onClick={(e) => onChange && onChange(page, e)}\n            aria-label={`${ariaLabelPage} ${page}`}\n            aria-current={page === current ? 'page' : undefined}\n          >\n            {page}\n          </a>\n        </li>\n      );\n    }\n  });\n};\n\nexport function Pagination({\n  currentPage = 1,\n  itemsPerPage,\n  totalItems,\n  onChange,\n  display,\n  size,\n  ariaLabel,\n  ariaLabelNextPage,\n  ariaLabelPreviousPage,\n  ariaLabelPage,\n  text,\n  qa\n}: PaginationProps) {\n  const [totalPages, setTotalPages] = useState<number>(0);\n\n  const onPrev = (event: MouseEvent) => {\n    event.preventDefault();\n    if (currentPage > 1) {\n      pageChange(currentPage - 1);\n    }\n  };\n\n  const onNext = (event: MouseEvent) => {\n    event.preventDefault();\n    if (currentPage < totalPages) {\n      pageChange(currentPage + 1);\n    }\n  };\n\n  const pageChange = (i: number, event?: MouseEvent) => {\n    event && event.preventDefault();\n    return onChange && onChange(i);\n  };\n\n  const paginationClass = classNames({\n    'm-pagination': true,\n    [`m-pagination--${SIZE_MAP[size || DEFAULT_SIZE]}`]: !!size\n  });\n  const paginationPreviousClass = classNames({ 'is-disabled': currentPage <= 1 });\n  const paginationNextClass = classNames({ 'is-disabled': currentPage >= totalPages });\n\n  useEffect(() => {\n    if (totalItems && itemsPerPage) {\n      const total = Math.ceil(Math.abs(totalItems) / Math.abs(itemsPerPage));\n      setTotalPages(total);\n    }\n  }, [currentPage, itemsPerPage, totalItems]);\n\n  return (\n    <nav role=\"navigation\" aria-label={ariaLabel} data-qa={qa}>\n      <ul className={paginationClass}>\n        <li className=\"m-pagination__prev\" key={'pagination__prev'}>\n          <a href={'#'} className={paginationPreviousClass} aria-label={ariaLabelPreviousPage} onClick={onPrev}>\n            <Icon name=\"arrow-left-1\" />\n          </a>\n        </li>\n        {display === 'text' && renderTextPagination(currentPage, totalPages, text, ariaLabelPage)}\n        {display === 'numbers' && renderNumbersPagination(currentPage, totalPages, ariaLabelPage, pageChange)}\n        <li className=\"m-pagination__next\" key=\"pagination__next\">\n          <a href={'#'} className={paginationNextClass} aria-label={ariaLabelNextPage} onClick={onNext}>\n            <Icon name=\"arrow-right-1\" />\n          </a>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nPagination.defaultProps = {\n  currentPage: 1,\n  ariaLabel: 'Paginering',\n  ariaLabelNextPage: 'Volgende pagina',\n  ariaLabelPreviousPage: 'Vorige pagina',\n  ariaLabelPage: 'Pagina',\n  text: '%currentPage% van de %totalPages%',\n  display: 'numbers'\n};\n\nexport default Pagination;\n"],"names":["renderTextPagination","__name","currentPage","totalPages","text","ariaLabelPage","_jsxs","replace","renderNumbersPagination","current","total","onChange","pagesArray","map","page","i","pageClass","classNames","e","undefined","Pagination","itemsPerPage","totalItems","display","size","ariaLabel","ariaLabelNextPage","ariaLabelPreviousPage","qa","setTotalPages","useState","onPrev","event","preventDefault","pageChange","onNext","paginationClass","SIZE_MAP","DEFAULT_SIZE","paginationPreviousClass","paginationNextClass","useEffect","Math","ceil","abs","_jsx","Icon","defaultProps"],"mappings":"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"}