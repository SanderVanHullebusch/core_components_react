{"version":3,"file":"TextField-1ce87e9f.js","sources":["../../../../packages/antwerp-ui/react-components/src/lib/atoms/input/text-field/TextField.tsx"],"sourcesContent":["import { TextFieldProps } from '../Input.types';\nimport { classNames } from '../../../../utils/dom.utils';\nimport { DEFAULT_SIZE, SIZE_MAP } from '../../../../constants/layout.settings';\nimport { Icon } from '../../../base/icon';\nimport { renderCharacterCounter, renderDescription, renderLabel } from '../input.renders';\nimport { ForwardedRef, forwardRef, useState } from 'react';\nimport { Spinner } from '../../spinner';\nimport './TextField.css';\n\nexport const TextField = forwardRef(function TextField(\n  {\n    addon,\n    charCounter,\n    charCountText,\n    description,\n    disabled,\n    id,\n    role,\n    inline,\n    label,\n    maxLength,\n    name,\n    onChange,\n    qa,\n    readOnly,\n    required,\n    size,\n    state,\n    type = 'text',\n    value,\n    onBlur,\n    onClick,\n    onFocus,\n    onKeyDown,\n    onKeyUp\n  }: TextFieldProps,\n  inputRef: ForwardedRef<HTMLInputElement>\n) {\n  const [characterCount, setCharacterCount] = useState(value ? value.length : 0);\n  const addonLeft = addon?.type === 'text' && addon.placement === 'left' ? addon.content : null;\n  const addonRight = addon?.type === 'text' && addon.placement === 'right' ? addon.content : null;\n  const iconLeft = addon?.type === 'icon' && addon.placement === 'left' ? addon.content : null;\n  const iconRight = addon?.type === 'icon' && addon.placement === 'right' ? addon.content : null;\n\n  const classes = classNames({\n    'a-input': true,\n    'a-input--inline': !!inline,\n    [`a-input--${SIZE_MAP[size || DEFAULT_SIZE]}`]: !!size,\n    'has-icon-left': !!iconLeft || (addon?.type === 'spinner' && addon?.placement === 'left'),\n    'has-icon-right': !iconLeft && !!iconRight,\n    'has-addon-left': !!addonLeft,\n    'has-addon-right': !!addonRight,\n    'has-error': state === 'error',\n    'has-spinner': addon?.type === 'spinner',\n    [`has-spinner-${addon?.placement}`]: !!addon\n  });\n\n  const wrapperClasses = classNames({\n    'a-input__wrapper': true,\n    'a-input__wrapper--inline': !!inline\n  });\n\n  const _handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setCharacterCount(event.target.value.length);\n    return onChange && onChange(event);\n  };\n\n  return (\n    <div className={classes} data-qa={qa}>\n      {renderLabel({ label, id, required, inline })}\n      {renderDescription({ id, description, state })}\n      <div className={wrapperClasses}>\n        {addon?.type === 'spinner' && <Spinner size=\"small\" />}\n        {!!iconLeft && <Icon name={iconLeft} />}\n        {!!addonLeft && <div className=\"a-input__addon\">{addonLeft}</div>}\n        <input\n          ref={inputRef}\n          type={type}\n          value={value}\n          name={name}\n          id={id}\n          disabled={disabled}\n          readOnly={readOnly}\n          required={required}\n          maxLength={maxLength}\n          onChange={_handleChange}\n          onBlur={onBlur}\n          onClick={onClick}\n          onFocus={onFocus}\n          onKeyDown={onKeyDown}\n          onKeyUp={onKeyUp}\n          role={role}\n          {...(charCounter && maxLength ? { 'aria-describedby': `${id}--counter` } : {})}\n          {...(description ? { 'aria-describedby': `${id}--description` } : {})}\n        ></input>\n        {!!iconRight && !iconLeft && <Icon name={iconRight} />}\n        {!!addonRight && <div className=\"a-input__addon\">{addonRight}</div>}\n      </div>\n      {renderCharacterCounter({\n        id,\n        charCountText,\n        charCounter,\n        characterCount: value ? value.length : characterCount,\n        maxLength\n      })}\n    </div>\n  );\n});\n\nTextField.defaultProps = {\n  type: 'text',\n  id: 'aui-text-field',\n  charCountText: '%count% / %max%'\n};\n\nexport default TextField;\n"],"names":["TextField","forwardRef","__name","addon","charCounter","charCountText","description","disabled","id","role","inline","label","maxLength","name","onChange","qa","readOnly","required","size","state","type","value","onBlur","onClick","onFocus","onKeyDown","onKeyUp","inputRef","characterCount","setCharacterCount","useState","length","addonLeft","placement","content","addonRight","iconLeft","iconRight","classes","classNames","SIZE_MAP","DEFAULT_SIZE","wrapperClasses","_handleChange","event","target","renderLabel","renderDescription","_jsxs","Spinner","Icon","_jsx","renderCharacterCounter","defaultProps","TextField$1"],"mappings":"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"}