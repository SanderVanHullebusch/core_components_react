{"version":3,"file":"TextField-5af04636.js","sources":["../../../../packages/antwerp-ui/react-components/src/lib/atoms/input/text-field/TextField.tsx"],"sourcesContent":["import { TextFieldProps } from '../Input.types';\nimport { classNames } from '../../../../utils/dom.utils';\nimport { DEFAULT_SIZE, SIZE_MAP } from '../../../../constants/layout.settings';\nimport { Icon } from '../../../base/icon';\nimport { renderCharacterCounter, renderDescription, renderLabel } from '../input.renders';\nimport { ForwardedRef, forwardRef, useState } from 'react';\nimport { Spinner } from '../../spinner';\nimport './TextField.css';\n\nexport const TextField = forwardRef(function TextField(\n  {\n    addon,\n    charCounter,\n    charCountText,\n    description,\n    disabled,\n    id,\n    role,\n    inline,\n    label,\n    maxLength,\n    name,\n    onChange,\n    qa,\n    readOnly,\n    required,\n    size,\n    state,\n    type = 'text',\n    value,\n    onBlur,\n    onClick,\n    onFocus,\n    onKeyDown,\n    onKeyUp\n  }: TextFieldProps,\n  inputRef: ForwardedRef<HTMLInputElement>\n) {\n  const [characterCount, setCharacterCount] = useState(value ? value.length : 0);\n  const addonLeft = addon?.type === 'text' && addon.placement === 'left' ? addon.content : null;\n  const addonRight = addon?.type === 'text' && addon.placement === 'right' ? addon.content : null;\n  const iconLeft = addon?.type === 'icon' && addon.placement === 'left' ? addon.content : null;\n  const iconRight = addon?.type === 'icon' && addon.placement === 'right' ? addon.content : null;\n\n  const classes = classNames({\n    'a-input': true,\n    'a-input--inline': !!inline,\n    [`a-input--${SIZE_MAP[size || DEFAULT_SIZE]}`]: !!size,\n    'has-icon-left': !!iconLeft || (addon?.type === 'spinner' && addon?.placement === 'left'),\n    'has-icon-right': !iconLeft && !!iconRight,\n    'has-addon-left': !!addonLeft,\n    'has-addon-right': !!addonRight,\n    'has-error': state === 'error',\n    'has-spinner': addon?.type === 'spinner',\n    [`has-spinner-${addon?.placement}`]: !!addon\n  });\n\n  const wrapperClasses = classNames({\n    'a-input__wrapper': true,\n    'a-input__wrapper--inline': !!inline\n  });\n\n  const _handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setCharacterCount(event.target.value.length);\n    return onChange && onChange(event);\n  };\n\n  return (\n    <div className={classes} data-qa={qa}>\n      {renderLabel({ label, id, required, inline })}\n      {renderDescription({ id, description, state })}\n      <div className={wrapperClasses}>\n        {addon?.type === 'spinner' && <Spinner size=\"small\" />}\n        {!!iconLeft && <Icon name={iconLeft} />}\n        {!!addonLeft && <div className=\"a-input__addon\">{addonLeft}</div>}\n        <input\n          ref={inputRef}\n          type={type}\n          value={value}\n          name={name}\n          id={id}\n          disabled={disabled}\n          readOnly={readOnly}\n          required={required}\n          maxLength={maxLength}\n          onChange={_handleChange}\n          onBlur={onBlur}\n          onClick={onClick}\n          onFocus={onFocus}\n          onKeyDown={onKeyDown}\n          onKeyUp={onKeyUp}\n          role={role}\n          {...(charCounter && maxLength ? { 'aria-describedby': `${id}--counter` } : {})}\n          {...(description ? { 'aria-describedby': `${id}--description` } : {})}\n        ></input>\n        {!!iconRight && !iconLeft && <Icon name={iconRight} />}\n        {!!addonRight && <div className=\"a-input__addon\">{addonRight}</div>}\n      </div>\n      {renderCharacterCounter({\n        id,\n        charCountText,\n        charCounter,\n        characterCount: value ? value.length : characterCount,\n        maxLength\n      })}\n    </div>\n  );\n});\n\nTextField.defaultProps = {\n  type: 'text',\n  id: 'aui-text-field',\n  charCountText: '%count% / %max%'\n};\n\nexport default TextField;\n"],"names":["TextField","forwardRef","addon","charCounter","charCountText","description","disabled","id","role","inline","label","maxLength","name","onChange","qa","readOnly","required","size","state","type","value","onBlur","onClick","onFocus","onKeyDown","onKeyUp","inputRef","characterCount","setCharacterCount","useState","addonLeft","addonRight","iconLeft","iconRight","classes","classNames","SIZE_MAP","DEFAULT_SIZE","wrapperClasses","_handleChange","event","jsxs","renderLabel","renderDescription","jsx","Spinner","Icon","renderCharacterCounter","TextField$1"],"mappings":"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"}